/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package com.mycompany.semestralka;

import java.io.IOException;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.DefaultComboBoxModel;
import javax.swing.JFileChooser;
import javax.swing.JOptionPane;

/**
 *
 * @author namer
 */
public class main extends javax.swing.JFrame {
    
    private Application app;
    
    
    /**
     * Creates new form main
     */
    public main() {
        initComponents();
        
        this.initApp();
    }
    
    //Start moje metody
    private void initApp() {
        //nastavi zobrazovanie okien na stred obrazovky
        this.setLocationRelativeTo(null); 
        this.jFrameNodeDetails.setLocationRelativeTo(null);
        this.jFrameEdgeDetails.setLocationRelativeTo(null);
        //vytvorenie instancie aplikacie
        this.app = new Application(); 
        this.setTitle(this.app.getMode().toString());
    }
    
    public void openNodeDetailWindow() {
        Uzol node = this.app.getOtvorenyUzol();
        if (node != null) {//pokracujem len ak node ktory mam zobrazit nie je null
            //nacitanie info do okna pre otvoreny uzol
            this.jTextFieldNodeDetailsNazov.setText(node.getNazov());
            this.jTextFieldNodeDetailsPoziadavka.setText(Integer.toString(node.getPoziadavka()));
            this.jComboBoxNodeDetailsTypUzla.setSelectedItem(node.getTypUzla());
            this.jTextFieldNodeDetailsCenaZaVybudovanie.setText(Integer.toString(node.getCenaZaVybudovanieStrediska()));
            //nastavenie viditelnosti daneho okna
            this.jFrameNodeDetails.setVisible(true);
            this.jPanelNodeDetails.setVisible(true);
            //deaktivujem main okno aby sa nedalo klikat tam ale aby bol focus na tom detaile
            this.setEnabled(false);
        }
    }
    
    public void openEdgeDetailWindow() {
        Hrana edge = this.app.getOtvorenaHrana();
        if (edge != null) {//pokracujem len ak edge ktory mam zobrazit nie je null
            //nacitanie info do okna pre otvorenu hranu
            this.jTextFieldEdgeDetailsDlzka.setText(Integer.toString(edge.getDlzkaTrasy()));
            this.jCheckBoxEdgeDetailsPovolenieHrany.setSelected(edge.isHranaPovolena());
            //nastavenie viditelnosti daneho okna
            this.jFrameEdgeDetails.setVisible(true);
            this.jPanelEdgeDetails.setVisible(true);
            //deaktivujem main okno aby sa nedalo klikat tam ale aby bol focus na tom detaile
            this.setEnabled(false);
        }
    }
    
    /**
     * Metoda pre zmenu modu aplikacie
     * @param newMode novy mod
     */
    public void changeMode(Mode newMode) {
        this.app.setMode(newMode);
        this.setTitle(newMode.toString());
        this.jPanelMain.repaint();
    }
    //End moje metody

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jFrameNodeDetails = new javax.swing.JFrame();
        jPanelNodeDetails = new javax.swing.JPanel();
        jLabelNodeDetailsNazov = new javax.swing.JLabel();
        jTextFieldNodeDetailsNazov = new javax.swing.JTextField();
        jLabelNodeDetailsPoziadavka = new javax.swing.JLabel();
        jTextFieldNodeDetailsPoziadavka = new javax.swing.JTextField();
        jLabelNodeDetailsTypUzla = new javax.swing.JLabel();
        jComboBoxNodeDetailsTypUzla = new javax.swing.JComboBox<>();
        jLabelNodeDetailsCenaZaVybudovanie = new javax.swing.JLabel();
        jTextFieldNodeDetailsCenaZaVybudovanie = new javax.swing.JTextField();
        jFrameEdgeDetails = new javax.swing.JFrame();
        jPanelEdgeDetails = new javax.swing.JPanel();
        jLabelEdgeDetailsDlzka = new javax.swing.JLabel();
        jTextFieldEdgeDetailsDlzka = new javax.swing.JTextField();
        jLabelEdgeDetailsPovolenieHrany = new javax.swing.JLabel();
        jCheckBoxEdgeDetailsPovolenieHrany = new javax.swing.JCheckBox();
        jButtonEdgeDetailsAutomatickyVypocetDlzkyTrasy = new javax.swing.JButton();
        jFileChooserSaveLocation = new javax.swing.JFileChooser();
        jFileChooserOpenNodeFile = new javax.swing.JFileChooser();
        jFileChooserOpenEdgeFile = new javax.swing.JFileChooser();
        jPanelMain = new javax.swing.JPanel();
        jMenuBarMain = new javax.swing.JMenuBar();
        jMenuUzly = new javax.swing.JMenu();
        jMenuItemUzlyPridavanie = new javax.swing.JMenuItem();
        jMenuItemUzlyEditacia = new javax.swing.JMenuItem();
        jMenuItemUzlyMazanie = new javax.swing.JMenuItem();
        jMenuHrany = new javax.swing.JMenu();
        jMenuItemHranyPridavanie = new javax.swing.JMenuItem();
        jMenuItemHranyEditacia = new javax.swing.JMenuItem();
        jMenuItemHranyMazanie = new javax.swing.JMenuItem();
        jMenuSubor = new javax.swing.JMenu();
        jMenuItemSuborNacitanie = new javax.swing.JMenuItem();
        jMenuItemSuborUlozenie = new javax.swing.JMenuItem();
        jMenuSiet = new javax.swing.JMenu();
        jMenuItemSietKontrola = new javax.swing.JMenuItem();
        jMenuItemSietVytvorenieGrafu = new javax.swing.JMenuItem();
        jMenuItemSietVypocitajVND = new javax.swing.JMenuItem();
        jMenuItemSietModPrehliadania = new javax.swing.JMenuItem();

        jFrameNodeDetails.setAlwaysOnTop(true);
        jFrameNodeDetails.setMinimumSize(new java.awt.Dimension(400, 300));
        jFrameNodeDetails.setResizable(false);
        jFrameNodeDetails.setType(java.awt.Window.Type.POPUP);
        jFrameNodeDetails.addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosing(java.awt.event.WindowEvent evt) {
                jFrameNodeDetailsWindowClosing(evt);
            }
        });

        jLabelNodeDetailsNazov.setText("Nazov");

        jTextFieldNodeDetailsNazov.setMinimumSize(new java.awt.Dimension(200, 30));
        jTextFieldNodeDetailsNazov.setPreferredSize(new java.awt.Dimension(200, 30));

        jLabelNodeDetailsPoziadavka.setText("Poziadavka");

        jTextFieldNodeDetailsPoziadavka.setMinimumSize(new java.awt.Dimension(200, 30));
        jTextFieldNodeDetailsPoziadavka.setPreferredSize(new java.awt.Dimension(200, 30));

        jLabelNodeDetailsTypUzla.setText("Typ uzla");

        jComboBoxNodeDetailsTypUzla.setModel(new DefaultComboBoxModel<>(TypUzla.values()));
        jComboBoxNodeDetailsTypUzla.setMinimumSize(new java.awt.Dimension(200, 22));
        jComboBoxNodeDetailsTypUzla.setPreferredSize(new java.awt.Dimension(200, 22));

        jLabelNodeDetailsCenaZaVybudovanie.setText("Cena za vybudovanie strediska");

        jTextFieldNodeDetailsCenaZaVybudovanie.setMinimumSize(new java.awt.Dimension(100, 30));
        jTextFieldNodeDetailsCenaZaVybudovanie.setName(""); // NOI18N
        jTextFieldNodeDetailsCenaZaVybudovanie.setPreferredSize(new java.awt.Dimension(100, 30));

        javax.swing.GroupLayout jPanelNodeDetailsLayout = new javax.swing.GroupLayout(jPanelNodeDetails);
        jPanelNodeDetails.setLayout(jPanelNodeDetailsLayout);
        jPanelNodeDetailsLayout.setHorizontalGroup(
            jPanelNodeDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelNodeDetailsLayout.createSequentialGroup()
                .addGap(42, 42, 42)
                .addGroup(jPanelNodeDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanelNodeDetailsLayout.createSequentialGroup()
                        .addComponent(jLabelNodeDetailsCenaZaVybudovanie)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 37, Short.MAX_VALUE)
                        .addComponent(jTextFieldNodeDetailsCenaZaVybudovanie, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanelNodeDetailsLayout.createSequentialGroup()
                        .addGroup(jPanelNodeDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabelNodeDetailsPoziadavka)
                            .addComponent(jLabelNodeDetailsNazov, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabelNodeDetailsTypUzla, javax.swing.GroupLayout.Alignment.LEADING))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(jPanelNodeDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jComboBoxNodeDetailsTypUzla, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jTextFieldNodeDetailsPoziadavka, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jTextFieldNodeDetailsNazov, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addGap(58, 58, 58))
        );
        jPanelNodeDetailsLayout.setVerticalGroup(
            jPanelNodeDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelNodeDetailsLayout.createSequentialGroup()
                .addGap(40, 40, 40)
                .addGroup(jPanelNodeDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabelNodeDetailsNazov)
                    .addComponent(jTextFieldNodeDetailsNazov, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(26, 26, 26)
                .addGroup(jPanelNodeDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabelNodeDetailsPoziadavka)
                    .addComponent(jTextFieldNodeDetailsPoziadavka, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(26, 26, 26)
                .addGroup(jPanelNodeDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabelNodeDetailsTypUzla)
                    .addComponent(jComboBoxNodeDetailsTypUzla, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(26, 26, 26)
                .addGroup(jPanelNodeDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabelNodeDetailsCenaZaVybudovanie)
                    .addComponent(jTextFieldNodeDetailsCenaZaVybudovanie, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(94, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jFrameNodeDetailsLayout = new javax.swing.GroupLayout(jFrameNodeDetails.getContentPane());
        jFrameNodeDetails.getContentPane().setLayout(jFrameNodeDetailsLayout);
        jFrameNodeDetailsLayout.setHorizontalGroup(
            jFrameNodeDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanelNodeDetails, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jFrameNodeDetailsLayout.setVerticalGroup(
            jFrameNodeDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanelNodeDetails, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        jFrameEdgeDetails.setAlwaysOnTop(true);
        jFrameEdgeDetails.setMinimumSize(new java.awt.Dimension(400, 300));
        jFrameEdgeDetails.setResizable(false);
        jFrameEdgeDetails.setType(java.awt.Window.Type.POPUP);
        jFrameEdgeDetails.addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosing(java.awt.event.WindowEvent evt) {
                jFrameEdgeDetailsWindowClosing(evt);
            }
        });

        jLabelEdgeDetailsDlzka.setText("Dlzka trasy");

        jTextFieldEdgeDetailsDlzka.setMinimumSize(new java.awt.Dimension(200, 22));
        jTextFieldEdgeDetailsDlzka.setPreferredSize(new java.awt.Dimension(200, 22));

        jLabelEdgeDetailsPovolenieHrany.setText("Povolenie hrany");

        jButtonEdgeDetailsAutomatickyVypocetDlzkyTrasy.setText("Automaticky vypocitat dlzku trasy");
        jButtonEdgeDetailsAutomatickyVypocetDlzkyTrasy.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButtonEdgeDetailsAutomatickyVypocetDlzkyTrasyActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanelEdgeDetailsLayout = new javax.swing.GroupLayout(jPanelEdgeDetails);
        jPanelEdgeDetails.setLayout(jPanelEdgeDetailsLayout);
        jPanelEdgeDetailsLayout.setHorizontalGroup(
            jPanelEdgeDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelEdgeDetailsLayout.createSequentialGroup()
                .addGap(42, 42, 42)
                .addGroup(jPanelEdgeDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabelEdgeDetailsPovolenieHrany)
                    .addComponent(jLabelEdgeDetailsDlzka, javax.swing.GroupLayout.Alignment.LEADING))
                .addGap(26, 26, 26)
                .addGroup(jPanelEdgeDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanelEdgeDetailsLayout.createSequentialGroup()
                        .addComponent(jTextFieldEdgeDetailsDlzka, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addContainerGap(47, Short.MAX_VALUE))
                    .addGroup(jPanelEdgeDetailsLayout.createSequentialGroup()
                        .addComponent(jCheckBoxEdgeDetailsPovolenieHrany)
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
            .addGroup(jPanelEdgeDetailsLayout.createSequentialGroup()
                .addGap(92, 92, 92)
                .addComponent(jButtonEdgeDetailsAutomatickyVypocetDlzkyTrasy)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        jPanelEdgeDetailsLayout.setVerticalGroup(
            jPanelEdgeDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelEdgeDetailsLayout.createSequentialGroup()
                .addGap(52, 52, 52)
                .addGroup(jPanelEdgeDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabelEdgeDetailsDlzka)
                    .addComponent(jTextFieldEdgeDetailsDlzka, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(27, 27, 27)
                .addGroup(jPanelEdgeDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabelEdgeDetailsPovolenieHrany)
                    .addComponent(jCheckBoxEdgeDetailsPovolenieHrany))
                .addGap(31, 31, 31)
                .addComponent(jButtonEdgeDetailsAutomatickyVypocetDlzkyTrasy)
                .addContainerGap(72, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jFrameEdgeDetailsLayout = new javax.swing.GroupLayout(jFrameEdgeDetails.getContentPane());
        jFrameEdgeDetails.getContentPane().setLayout(jFrameEdgeDetailsLayout);
        jFrameEdgeDetailsLayout.setHorizontalGroup(
            jFrameEdgeDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanelEdgeDetails, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jFrameEdgeDetailsLayout.setVerticalGroup(
            jFrameEdgeDetailsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanelEdgeDetails, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        jFileChooserSaveLocation.setCurrentDirectory(new java.io.File("C:\\"));
            jFileChooserSaveLocation.setFileSelectionMode(javax.swing.JFileChooser.DIRECTORIES_ONLY);
            jFileChooserSaveLocation.setName(""); // NOI18N

            jFileChooserOpenNodeFile.setCurrentDirectory(new java.io.File("C:\\"));
                jFileChooserOpenNodeFile.setDialogTitle("Vyberte subor uzlov");

                jFileChooserOpenEdgeFile.setCurrentDirectory(new java.io.File("C:\\"));
                    jFileChooserOpenEdgeFile.setDialogTitle("Vyberte subor hran");

                    setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
                    setResizable(false);

                    jPanelMain.setAlignmentX(0.0F);
                    jPanelMain.setAlignmentY(10.0F);
                    jPanelMain.setPreferredSize(new java.awt.Dimension(1000, 777));
                    jPanelMain.addMouseListener(new java.awt.event.MouseAdapter() {
                        public void mouseClicked(java.awt.event.MouseEvent evt) {
                            jPanelMainMouseClicked(evt);
                        }
                    });

                    javax.swing.GroupLayout jPanelMainLayout = new javax.swing.GroupLayout(jPanelMain);
                    jPanelMain.setLayout(jPanelMainLayout);
                    jPanelMainLayout.setHorizontalGroup(
                        jPanelMainLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGap(0, 1456, Short.MAX_VALUE)
                    );
                    jPanelMainLayout.setVerticalGroup(
                        jPanelMainLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGap(0, 777, Short.MAX_VALUE)
                    );

                    jMenuUzly.setText("Uzly");

                    jMenuItemUzlyPridavanie.setLabel("Pridanie uzlov");
                    jMenuItemUzlyPridavanie.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                            jMenuItemUzlyPridavanieActionPerformed(evt);
                        }
                    });
                    jMenuUzly.add(jMenuItemUzlyPridavanie);

                    jMenuItemUzlyEditacia.setLabel("Editacia Uzlov");
                    jMenuItemUzlyEditacia.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                            jMenuItemUzlyEditaciaActionPerformed(evt);
                        }
                    });
                    jMenuUzly.add(jMenuItemUzlyEditacia);

                    jMenuItemUzlyMazanie.setLabel("Mazanie Uzlov");
                    jMenuItemUzlyMazanie.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                            jMenuItemUzlyMazanieActionPerformed(evt);
                        }
                    });
                    jMenuUzly.add(jMenuItemUzlyMazanie);

                    jMenuBarMain.add(jMenuUzly);

                    jMenuHrany.setText("Hrany");

                    jMenuItemHranyPridavanie.setText("Pridanie hran");
                    jMenuItemHranyPridavanie.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                            jMenuItemHranyPridavanieActionPerformed(evt);
                        }
                    });
                    jMenuHrany.add(jMenuItemHranyPridavanie);

                    jMenuItemHranyEditacia.setText("Editacia hran");
                    jMenuItemHranyEditacia.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                            jMenuItemHranyEditaciaActionPerformed(evt);
                        }
                    });
                    jMenuHrany.add(jMenuItemHranyEditacia);

                    jMenuItemHranyMazanie.setText("Mazanie hran");
                    jMenuItemHranyMazanie.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                            jMenuItemHranyMazanieActionPerformed(evt);
                        }
                    });
                    jMenuHrany.add(jMenuItemHranyMazanie);

                    jMenuBarMain.add(jMenuHrany);

                    jMenuSubor.setText("Subor");

                    jMenuItemSuborNacitanie.setText("Nacitanie dat zo suboru");
                    jMenuItemSuborNacitanie.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                            jMenuItemSuborNacitanieActionPerformed(evt);
                        }
                    });
                    jMenuSubor.add(jMenuItemSuborNacitanie);

                    jMenuItemSuborUlozenie.setText("Ulozenie dat do suboru");
                    jMenuItemSuborUlozenie.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                            jMenuItemSuborUlozenieActionPerformed(evt);
                        }
                    });
                    jMenuSubor.add(jMenuItemSuborUlozenie);

                    jMenuBarMain.add(jMenuSubor);

                    jMenuSiet.setText("Siet");

                    jMenuItemSietKontrola.setText("Kontrola siete");
                    jMenuItemSietKontrola.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                            jMenuItemSietKontrolaActionPerformed(evt);
                        }
                    });
                    jMenuSiet.add(jMenuItemSietKontrola);

                    jMenuItemSietVytvorenieGrafu.setText("Vytvorenie grafu");
                    jMenuItemSietVytvorenieGrafu.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                            jMenuItemSietVytvorenieGrafuActionPerformed(evt);
                        }
                    });
                    jMenuSiet.add(jMenuItemSietVytvorenieGrafu);

                    jMenuItemSietVypocitajVND.setText("Vypocitaj VND");
                    jMenuItemSietVypocitajVND.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                            jMenuItemSietVypocitajVNDActionPerformed(evt);
                        }
                    });
                    jMenuSiet.add(jMenuItemSietVypocitajVND);

                    jMenuItemSietModPrehliadania.setText("Mod prehliadania siete");
                    jMenuItemSietModPrehliadania.addActionListener(new java.awt.event.ActionListener() {
                        public void actionPerformed(java.awt.event.ActionEvent evt) {
                            jMenuItemSietModPrehliadaniaActionPerformed(evt);
                        }
                    });
                    jMenuSiet.add(jMenuItemSietModPrehliadania);

                    jMenuBarMain.add(jMenuSiet);

                    setJMenuBar(jMenuBarMain);

                    javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
                    getContentPane().setLayout(layout);
                    layout.setHorizontalGroup(
                        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jPanelMain, javax.swing.GroupLayout.DEFAULT_SIZE, 1456, Short.MAX_VALUE)
                    );
                    layout.setVerticalGroup(
                        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addComponent(jPanelMain, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    );

                    pack();
                }// </editor-fold>//GEN-END:initComponents

    private void jPanelMainMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_jPanelMainMouseClicked
        //mouse on click listener
        int posX=evt.getX();
        int posY=evt.getY();
        
        try {
            switch (this.app.mouseClicked(posX, posY, jPanelMain)) {
                case 1:
                    repaint();
                    this.openNodeDetailWindow(); //zobrazi uzol ktory je v this.app.otvorenyUzol
                    break;
                case 2:
                    repaint();
                    break;
                case 3:
                    repaint();
                    this.openEdgeDetailWindow();//zobrazi hranu ktora je v this.app.otvorenaHrana
                    break;
                default:
                    //do nothing
            }
        } catch (Exception ex) {
            JOptionPane.showMessageDialog(this.jPanelMain, ex.getMessage(), "Chyba", JOptionPane.ERROR_MESSAGE);
        }
        
    }//GEN-LAST:event_jPanelMainMouseClicked

    private void jFrameNodeDetailsWindowClosing(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_jFrameNodeDetailsWindowClosing
        Uzol otvorenyUzol = this.app.getOtvorenyUzol();
        // nastavime hodnoty z obrazovky
        otvorenyUzol.setNazov(this.jTextFieldNodeDetailsNazov.getText());
        try {
            otvorenyUzol.setPoziadavka(Integer.parseInt(this.jTextFieldNodeDetailsPoziadavka.getText()));
            otvorenyUzol.setCenaZaVybudovanieStrediska(Integer.parseInt(this.jTextFieldNodeDetailsCenaZaVybudovanie.getText()));
        } catch (NumberFormatException e) {
            //Do nothing
        }
        otvorenyUzol.setTypUzla((TypUzla)this.jComboBoxNodeDetailsTypUzla.getSelectedItem());
        
        // nastavime otvoreny uzol na null
        this.app.setOtvorenyUzol(null);
        this.setEnabled(true);
    }//GEN-LAST:event_jFrameNodeDetailsWindowClosing

    private void jMenuItemUzlyPridavanieActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItemUzlyPridavanieActionPerformed
        this.changeMode(Mode.addNode); //pridavanie uzlov
    }//GEN-LAST:event_jMenuItemUzlyPridavanieActionPerformed

    private void jMenuItemUzlyEditaciaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItemUzlyEditaciaActionPerformed
        this.changeMode(Mode.editNode); //editacia uzlov
    }//GEN-LAST:event_jMenuItemUzlyEditaciaActionPerformed

    private void jMenuItemUzlyMazanieActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItemUzlyMazanieActionPerformed
        this.changeMode(Mode.removeNode); //mazanie uzlov
    }//GEN-LAST:event_jMenuItemUzlyMazanieActionPerformed

    private void jMenuItemHranyPridavanieActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItemHranyPridavanieActionPerformed
        this.changeMode(Mode.addEdge);
    }//GEN-LAST:event_jMenuItemHranyPridavanieActionPerformed

    private void jMenuItemHranyEditaciaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItemHranyEditaciaActionPerformed
        this.changeMode(Mode.editEdge);
    }//GEN-LAST:event_jMenuItemHranyEditaciaActionPerformed

    private void jMenuItemHranyMazanieActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItemHranyMazanieActionPerformed
        this.changeMode(Mode.removeEdge);
    }//GEN-LAST:event_jMenuItemHranyMazanieActionPerformed

    private void jFrameEdgeDetailsWindowClosing(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_jFrameEdgeDetailsWindowClosing
        Hrana otvorenaHrana = this.app.getOtvorenaHrana();
        // nastavime hodnoty z obrazovky
        try {
            otvorenaHrana.setDlzkaTrasy(Integer.parseInt(this.jTextFieldEdgeDetailsDlzka.getText()));
        } catch (NumberFormatException e) {
            //Do nothing
        }
        otvorenaHrana.setHranaPovolena(this.jCheckBoxEdgeDetailsPovolenieHrany.isSelected());
        
        // nastavime otvorenu hranu na null
        this.app.setOtvorenaHrana(null);
        this.setEnabled(true);
    }//GEN-LAST:event_jFrameEdgeDetailsWindowClosing

    private void jButtonEdgeDetailsAutomatickyVypocetDlzkyTrasyActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButtonEdgeDetailsAutomatickyVypocetDlzkyTrasyActionPerformed
        Hrana edge = this.app.getOtvorenaHrana();
        edge.autoCalculateLength();
        this.jTextFieldEdgeDetailsDlzka.setText(Integer.toString(edge.getDlzkaTrasy()));
    }//GEN-LAST:event_jButtonEdgeDetailsAutomatickyVypocetDlzkyTrasyActionPerformed

    private void jMenuItemSuborUlozenieActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItemSuborUlozenieActionPerformed
        if (this.jFileChooserSaveLocation.showSaveDialog(this) == JFileChooser.APPROVE_OPTION) {
            try {
                if (this.jFileChooserSaveLocation.getSelectedFile().isDirectory()) {
                    this.app.saveData(this.jFileChooserSaveLocation.getSelectedFile().getPath());
                    JOptionPane.showMessageDialog(this.jPanelMain, "Uloženie dát sa podarilo");
                }
            } catch (IOException ex) {
                JOptionPane.showMessageDialog(this.jPanelMain, "Pri ukladaní dát nastala chyba", "Chyba", JOptionPane.ERROR_MESSAGE);
                Logger.getLogger(main.class.getName()).log(Level.SEVERE, null, ex);
            }
        }
    }//GEN-LAST:event_jMenuItemSuborUlozenieActionPerformed

    private void jMenuItemSuborNacitanieActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItemSuborNacitanieActionPerformed
        if (this.jFileChooserOpenNodeFile.showOpenDialog(this) == JFileChooser.APPROVE_OPTION) { //dalej pokracujem len ak nezrusil vyber na prvom
            if (this.jFileChooserOpenEdgeFile.showOpenDialog(this) == JFileChooser.APPROVE_OPTION) { //dalej pokracujem len ak nezrusil vyber na druhom
                try {
                    if (this.jFileChooserOpenNodeFile.getSelectedFile().isFile() &&
                            this.jFileChooserOpenEdgeFile.getSelectedFile().isFile()){
                        this.app.loadData(this.jFileChooserOpenNodeFile.getSelectedFile().getPath(), 
                                this.jFileChooserOpenEdgeFile.getSelectedFile().getPath(),
                                this.jPanelMain);
                        repaint();
                        JOptionPane.showMessageDialog(this.jPanelMain, "Načítanie dát sa podarilo");
                    }

                } catch (IOException ex) {
                    JOptionPane.showMessageDialog(this.jPanelMain, "Pri načítavaní dát nastala chyba", "Chyba", JOptionPane.ERROR_MESSAGE);
                    Logger.getLogger(main.class.getName()).log(Level.SEVERE, null, ex);
                }
            }
        }
    }//GEN-LAST:event_jMenuItemSuborNacitanieActionPerformed

    private void jMenuItemSietVytvorenieGrafuActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItemSietVytvorenieGrafuActionPerformed
        this.app.convertToGraph();//konverzia siete na graf
        JOptionPane.showMessageDialog(this.jPanelMain, "Konverzia siete prebehla uspesne");
    }//GEN-LAST:event_jMenuItemSietVytvorenieGrafuActionPerformed

    private void jMenuItemSietKontrolaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItemSietKontrolaActionPerformed
        if (this.app.checkNetwork()) { 
            //kontrola dopadla dobre dam OK spravu
            JOptionPane.showMessageDialog(this.jPanelMain, "Kontrola siete prebehla uspesne");
        }
        else //kontrola nedopadla dobre dam error spravu
            JOptionPane.showMessageDialog(this.jPanelMain, "Siet nie je kompletna", "Chyba", JOptionPane.ERROR_MESSAGE);
            
    }//GEN-LAST:event_jMenuItemSietKontrolaActionPerformed

    private void jMenuItemSietVypocitajVNDActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItemSietVypocitajVNDActionPerformed
        try {
            this.app.computeVND();
            this.jPanelMain.repaint();
        } catch (Exception ex) {
            JOptionPane.showMessageDialog(this.jPanelMain, ex.getMessage(), "Chyba", JOptionPane.ERROR_MESSAGE);
            Logger.getLogger(main.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_jMenuItemSietVypocitajVNDActionPerformed

    private void jMenuItemSietModPrehliadaniaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jMenuItemSietModPrehliadaniaActionPerformed
        this.changeMode(Mode.view);
    }//GEN-LAST:event_jMenuItemSietModPrehliadaniaActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(main.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(main.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(main.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(main.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new main().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton jButtonEdgeDetailsAutomatickyVypocetDlzkyTrasy;
    private javax.swing.JCheckBox jCheckBoxEdgeDetailsPovolenieHrany;
    private javax.swing.JComboBox<TypUzla> jComboBoxNodeDetailsTypUzla;
    private javax.swing.JFileChooser jFileChooserOpenEdgeFile;
    private javax.swing.JFileChooser jFileChooserOpenNodeFile;
    private javax.swing.JFileChooser jFileChooserSaveLocation;
    private javax.swing.JFrame jFrameEdgeDetails;
    private javax.swing.JFrame jFrameNodeDetails;
    private javax.swing.JLabel jLabelEdgeDetailsDlzka;
    private javax.swing.JLabel jLabelEdgeDetailsPovolenieHrany;
    private javax.swing.JLabel jLabelNodeDetailsCenaZaVybudovanie;
    private javax.swing.JLabel jLabelNodeDetailsNazov;
    private javax.swing.JLabel jLabelNodeDetailsPoziadavka;
    private javax.swing.JLabel jLabelNodeDetailsTypUzla;
    private javax.swing.JMenuBar jMenuBarMain;
    private javax.swing.JMenu jMenuHrany;
    private javax.swing.JMenuItem jMenuItemHranyEditacia;
    private javax.swing.JMenuItem jMenuItemHranyMazanie;
    private javax.swing.JMenuItem jMenuItemHranyPridavanie;
    private javax.swing.JMenuItem jMenuItemSietKontrola;
    private javax.swing.JMenuItem jMenuItemSietModPrehliadania;
    private javax.swing.JMenuItem jMenuItemSietVypocitajVND;
    private javax.swing.JMenuItem jMenuItemSietVytvorenieGrafu;
    private javax.swing.JMenuItem jMenuItemSuborNacitanie;
    private javax.swing.JMenuItem jMenuItemSuborUlozenie;
    private javax.swing.JMenuItem jMenuItemUzlyEditacia;
    private javax.swing.JMenuItem jMenuItemUzlyMazanie;
    private javax.swing.JMenuItem jMenuItemUzlyPridavanie;
    private javax.swing.JMenu jMenuSiet;
    private javax.swing.JMenu jMenuSubor;
    private javax.swing.JMenu jMenuUzly;
    private javax.swing.JPanel jPanelEdgeDetails;
    private javax.swing.JPanel jPanelMain;
    private javax.swing.JPanel jPanelNodeDetails;
    private javax.swing.JTextField jTextFieldEdgeDetailsDlzka;
    private javax.swing.JTextField jTextFieldNodeDetailsCenaZaVybudovanie;
    private javax.swing.JTextField jTextFieldNodeDetailsNazov;
    private javax.swing.JTextField jTextFieldNodeDetailsPoziadavka;
    // End of variables declaration//GEN-END:variables
}
